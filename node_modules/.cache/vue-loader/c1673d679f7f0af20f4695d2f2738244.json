{"remainingRequest":"C:\\Users\\ZYL\\Desktop\\work\\SS\\ss\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ZYL\\Desktop\\work\\SS\\ss\\src\\components\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ZYL\\Desktop\\work\\SS\\ss\\src\\components\\index.vue","mtime":1586615236416},{"path":"C:\\Users\\ZYL\\Desktop\\work\\SS\\ss\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ZYL\\Desktop\\work\\SS\\ss\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ZYL\\Desktop\\work\\SS\\ss\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ZYL\\Desktop\\work\\SS\\ss\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgICAgYWRkVmlzYmxlOiBmYWxzZSwNCiAgICAgIGVkaXRWaXNibGU6IGZhbHNlLA0KICAgICAgc3VwcExpc3Q6IFtdLA0KICAgICAgcGFnZUluZm86IHt9LA0KICAgICAgcGFnZTogMSwNCiAgICAgIHN1cHA6IHsNCiAgICAgICAgaWQ6IG51bGwsDQogICAgICAgIG5hbWU6ICIiLA0KICAgICAgICBsb2NhdGlvbjogIiIsDQogICAgICAgIHBob25lOiAiIiwNCiAgICAgICAgZW1wbG95ZWVJZDogbnVsbCwNCiAgICAgICAgZW1haWw6ICIiDQogICAgICB9LA0KICAgICAgZW1wbG95ZWVOYW1lOiAiIiwNCiAgICAgIGVtcGxveWVlTGlzdDogW10sDQogICAgICBpbnB1dDogIiINCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgICBhZGRTdXBwKCl7DQogICAgICAgICAgdGhpcy4kaHR0cC5wb3N0ICgnc3VwcGxpZXIvYWRkU3VwcCcsdGhpcy5zdXBwKS50aGVuICggcmVzdWx0ID0+IHsNCiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhKXsNCiAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5re75Yqg5oiQ5YqfIik7DQogICAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIua3u+WKoOWksei0pSIpDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgdGhpcy5hZGRWaXNibGUgPSBmYWxzZTsNCiAgICAgICAgICB9KS5jYXRjaCggZXJyb3IgPT4gew0KICAgICAgICAgICAgICBpZiAoZXJyb3Ipew0KICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCLmt7vliqDlpLHotKXvvIzor7fogZTns7vnrqHnkIblkZgiKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pDQogICAgICB9LA0KICAgICAgb3BlbkFkZCgpew0KICAgICAgICAgIHRoaXMuZ2V0RW1wbG95ZWVMaXN0KCk7DQogICAgICAgICAgdGhpcy5hZGRWaXNibGUgPSB0cnVlOw0KICAgICAgfSwNCiAgICB1cGRhdGVTdXBwKCkgew0KICAgICAgdGhpcy4kaHR0cA0KICAgICAgICAucHV0KCJzdXBwbGllci91cGRhdGVTdXBwIiwgdGhpcy5zdXBwKQ0KICAgICAgICAudGhlbihyZXN1bHQgPT4gew0KICAgICAgICAgIGlmIChyZXN1bHQuZGF0YSkgew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmm7TmlrDmiJDlip8iKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5pu05paw5aSx6LSlIik7DQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuZWRpdFZpc2JsZSA9IGZhbHNlOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgIGlmIChlcnJvci5yZXNwb25zZSkgew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCLmm7TmlrDlpLHotKXvvIzor7fmo4Dmn6XovpPlhaXnmoTlj4LmlbAiKTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgY2FuY2VsKCkgew0KICAgICAgLy/ngrnlh7vmqKHmgIHmoYbnmoTlj5bmtojmjInpkq7vvIzpppblhYjmuIXpmaTmqKHmgIHmoYbph4zpnaLnmoTkv6Hmga8NCiAgICAgIC8v54S25ZCO5bCG5qih5oCB5qGG5YWz6ZetDQogICAgICB0aGlzLmVkaXRWaXNibGUgPSBmYWxzZTsNCiAgICB9LA0KICAgIGhhbmRsZUVkaXQoaW5kZXgsIHJvdykgew0KICAgICAgLy/ngrnlh7vnvJbovpHmjInpkq7vvIzpppblhYjmn6Xor6Llh7rkvpvlupTllYbkv6Hmga/vvIznhLblkI7ov5vooYzkv67mlLkNCg0KICAgICAgdGhpcy5lZGl0VmlzYmxlID0gdHJ1ZTsNCg0KICAgICAgdGhpcy5zdXBwID0gcm93Ow0KICAgICAgdGhpcy5nZXRFbXBsb3llZUxpc3QoKTsNCiAgICB9LA0KICAgIGhhbmRsZURlbGV0ZShpbmRleCwgcm93KSB7DQogICAgICB0aGlzLm1pblNpemUgPSB0aGlzLnBhZ2VJbmZvLnNpemU7DQogICAgICB0aGlzLiRjb25maXJtKCLlsIbliKDpmaTmraTkuKrkvpvlupTllYbvvIzmmK/lkKbnu6fnu63vvJ8iLCAi5Yig6ZmkIiwgew0KICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsDQogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLA0KICAgICAgICB0eXBlOiAid2FybmluZyINCiAgICAgIH0pLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLiRodHRwDQogICAgICAgICAgLmdldCgic3VwcGxpZXIvZGVsU3VwcC8iICsgcm93LmlkKQ0KICAgICAgICAgIC50aGVuKHJlc3VsdCA9PiB7DQogICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEpIHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLliKDpmaTmiJDlip8iKTsNCiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKDApOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5Yig6Zmk5aSx6LSlIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7DQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbygi57O757uf6ZSZ6K+v77yM6K+36IGU57O7566h55CG5ZGYIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8v6I635Y+W5ZGY5bel5pWw57uEDQogICAgZ2V0RW1wbG95ZWVMaXN0KCkgew0KICAgICAgdGhpcy4kaHR0cC5nZXQoImVtcGxveWVlL2dldEFsbEVtcGxveWVlIikudGhlbihyZXN1bHQgPT4gew0KICAgICAgICB0aGlzLmVtcGxveWVlTGlzdCA9IHJlc3VsdC5kYXRhOw0KICAgICAgfSk7DQogICAgfSwNCiAgICB0b1BhZ2UoKSB7DQogICAgICB0aGlzLnBhZ2UgPSB0aGlzLiRyZWZzLnBhZ2VoZWxwLmludGVybmFsQ3VycmVudFBhZ2U7DQogICAgICB0aGlzLmdldFN1cHBMaXN0KCk7DQogICAgfSwNCiAgICBnZXRTdXBwTGlzdCgpIHsNCiAgICAgIHRoaXMuJGh0dHANCiAgICAgICAgLmdldCgic3VwcGxpZXIvc2VhcmNoIiwgew0KICAgICAgICAgIHBhcmFtczogew0KICAgICAgICAgICAgcGFnZTogdGhpcy5wYWdlIHx8IDEsDQogICAgICAgICAgICBrZXl3b3JkOiB0aGlzLmlucHV0DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAudGhlbihyZXN1bHQgPT4gew0KICAgICAgICAgIHRoaXMuc3VwcExpc3QgPSByZXN1bHQuZGF0YS5saXN0Ow0KICAgICAgICAgIHRoaXMucGFnZUluZm8gPSByZXN1bHQuZGF0YTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmnKrmn6Xor6LliLDnm7jlhbPkv6Hmga8iKTsNCiAgICAgICAgICB0aGlzLmlucHV0ID0gIiINCiAgICAgICAgfSk7DQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0U3VwcExpc3QoKTsNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div style=\"text-align: left\">\r\n    <div>\r\n      <el-input\r\n        placeholder=\"输入供应商编号 供应商名搜索\"\r\n        style=\"margin-right: -100px;width:50%\"\r\n        v-model=\"input\"\r\n        clearable\r\n      ></el-input>\r\n      <el-button type=\"primary\" style=\"float:right;margin-right:200px\" @click=\"getSuppList()\">搜索</el-button>\r\n              <!--添加员工按钮-->\r\n      \r\n    </div>\r\n    <el-table :data=\"suppList\" style=\"width: 100%\">\r\n      <el-table-column type=\"expand\">\r\n        <template slot-scope=\"props\">\r\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n            <el-form-item label=\"供应商名称\">\r\n              <span>{{ props.row.name }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"联系人姓名\">\r\n              <span>{{ props.row.phone }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品 ID\">\r\n              <span>{{ props.row.id }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"供应商地址\">\r\n              <span>{{ props.row.location }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"负责员工的id\">\r\n              <span>{{ props.row.employeeId }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"联系邮箱\">\r\n              <span>{{ props.row.email }}</span>\r\n            </el-form-item>\r\n          </el-form>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"供应商 ID\" prop=\"id\"></el-table-column>\r\n      <el-table-column label=\"供应商名称\" prop=\"name\"></el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n          <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <div style = \"dispaly:flex;justify-content:left\">\r\n      <!--分页条区域-->\r\n      <el-pagination\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        :page-size=\"pageInfo.pageSize\"\r\n        :total=\"pageInfo.total\"\r\n        :page=\"pageInfo.pages\"\r\n        @current-change=\"toPage()\"\r\n        ref=\"pagehelp\"\r\n        style=\"margin-top: 50px; margin-left:30px\"\r\n      ></el-pagination>\r\n\r\n      <el-button type=\"warning\" style = \"float:right;margin-top: -40px\" @click = \"openAdd()\" >添加员工</el-button>\r\n\r\n    </div>\r\n\r\n    <!--修改模态框框区域-->\r\n    <el-dialog title=\"修改员工信息\" :visible.sync=\"editVisble\" width=\"50%\" center>\r\n      <el-form label-width=\"120px\" :model=\"supp\">\r\n        <el-form-item label=\"供应商名称\">\r\n          <el-input v-model=\"supp.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"联系手机号\">\r\n          <el-input v-model=\"supp.phone\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"负责员工\">\r\n          <el-select v-model=\"supp.employeeId\" :placeholder=\"employeeName\">\r\n            <el-option\r\n              v-for=\"item in employeeList\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.id\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"供应商地址\">\r\n          <el-input v-model=\"supp.location\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"联系邮箱\">\r\n          <el-input v-model=\"supp.email\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"cancel()\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"updateSupp()\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"添加员工信息\" :visible.sync=\"addVisble\" width=\"50%\" center>\r\n      <el-form label-width=\"120px\" :model=\"supp\">\r\n        <el-form-item label=\"供应商名称\">\r\n          <el-input v-model=\"supp.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"联系手机号\">\r\n          <el-input v-model=\"supp.phone\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"负责员工\">\r\n          <el-select v-model=\"supp.employeeId\" :placeholder=\"employeeName\">\r\n            <el-option\r\n              v-for=\"item in employeeList\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.id\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"供应商地址\">\r\n          <el-input v-model=\"supp.location\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"联系邮箱\">\r\n          <el-input v-model=\"supp.email\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addVisble = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addSupp()\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n        addVisble: false,\r\n      editVisble: false,\r\n      suppList: [],\r\n      pageInfo: {},\r\n      page: 1,\r\n      supp: {\r\n        id: null,\r\n        name: \"\",\r\n        location: \"\",\r\n        phone: \"\",\r\n        employeeId: null,\r\n        email: \"\"\r\n      },\r\n      employeeName: \"\",\r\n      employeeList: [],\r\n      input: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n      addSupp(){\r\n          this.$http.post ('supplier/addSupp',this.supp).then ( result => {\r\n              if (result.data){\r\n                  this.$message.success(\"添加成功\");\r\n              }else {\r\n                  this.$message.error(\"添加失败\")\r\n              }\r\n              this.addVisble = false;\r\n          }).catch( error => {\r\n              if (error){\r\n                  this.$message.info(\"添加失败，请联系管理员\");\r\n              }\r\n          })\r\n      },\r\n      openAdd(){\r\n          this.getEmployeeList();\r\n          this.addVisble = true;\r\n      },\r\n    updateSupp() {\r\n      this.$http\r\n        .put(\"supplier/updateSupp\", this.supp)\r\n        .then(result => {\r\n          if (result.data) {\r\n            this.$message.success(\"更新成功\");\r\n          } else {\r\n            this.$message.error(\"更新失败\");\r\n          }\r\n          this.editVisble = false;\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n            this.$message.info(\"更新失败，请检查输入的参数\");\r\n          }\r\n        });\r\n    },\r\n    cancel() {\r\n      //点击模态框的取消按钮，首先清除模态框里面的信息\r\n      //然后将模态框关闭\r\n      this.editVisble = false;\r\n    },\r\n    handleEdit(index, row) {\r\n      //点击编辑按钮，首先查询出供应商信息，然后进行修改\r\n\r\n      this.editVisble = true;\r\n\r\n      this.supp = row;\r\n      this.getEmployeeList();\r\n    },\r\n    handleDelete(index, row) {\r\n      this.minSize = this.pageInfo.size;\r\n      this.$confirm(\"将删除此个供应商，是否继续？\", \"删除\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        this.$http\r\n          .get(\"supplier/delSupp/\" + row.id)\r\n          .then(result => {\r\n            if (result.data) {\r\n              this.$message.success(\"删除成功\");\r\n              this.$router.go(0);\r\n            } else {\r\n              this.$message.error(\"删除失败\");\r\n            }\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n              this.$message.info(\"系统错误，请联系管理员\");\r\n            }\r\n          });\r\n      });\r\n    },\r\n    //获取员工数组\r\n    getEmployeeList() {\r\n      this.$http.get(\"employee/getAllEmployee\").then(result => {\r\n        this.employeeList = result.data;\r\n      });\r\n    },\r\n    toPage() {\r\n      this.page = this.$refs.pagehelp.internalCurrentPage;\r\n      this.getSuppList();\r\n    },\r\n    getSuppList() {\r\n      this.$http\r\n        .get(\"supplier/search\", {\r\n          params: {\r\n            page: this.page || 1,\r\n            keyword: this.input\r\n          }\r\n        })\r\n        .then(result => {\r\n          this.suppList = result.data.list;\r\n          this.pageInfo = result.data;\r\n        })\r\n        .catch(error => {\r\n          this.$message.error(\"未查询到相关信息\");\r\n          this.input = \"\"\r\n        });\r\n    }\r\n  },\r\n  created() {\r\n    this.getSuppList();\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.demo-table-expand {\r\n  font-size: 0;\r\n}\r\n.demo-table-expand label {\r\n  width: 90px;\r\n  color: #99a9bf;\r\n}\r\n.demo-table-expand .el-form-item {\r\n  margin-right: 0;\r\n  margin-bottom: 0;\r\n  width: 50%;\r\n}\r\n</style>"]}]}