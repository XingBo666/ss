{"remainingRequest":"C:\\Users\\ZYL\\Desktop\\work\\SS\\ss\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ZYL\\Desktop\\work\\SS\\ss\\src\\components\\reple.vue?vue&type=style&index=0&id=5c6083f6&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\ZYL\\Desktop\\work\\SS\\ss\\src\\components\\reple.vue","mtime":1586613902689},{"path":"C:\\Users\\ZYL\\Desktop\\work\\SS\\ss\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ZYL\\Desktop\\work\\SS\\ss\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\ZYL\\Desktop\\work\\SS\\ss\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\ZYL\\Desktop\\work\\SS\\ss\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ZYL\\Desktop\\work\\SS\\ss\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5kZW1vLXRhYmxlLWV4cGFuZCB7DQogIGZvbnQtc2l6ZTogMDsNCn0NCi5kZW1vLXRhYmxlLWV4cGFuZCBsYWJlbCB7DQogIHdpZHRoOiA5MHB4Ow0KICBjb2xvcjogIzk5YTliZjsNCn0NCi5kZW1vLXRhYmxlLWV4cGFuZCAuZWwtZm9ybS1pdGVtIHsNCiAgbWFyZ2luLXJpZ2h0OiAwOw0KICBtYXJnaW4tYm90dG9tOiAwOw0KICB3aWR0aDogNTAlOw0KfQ0K"},{"version":3,"sources":["reple.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"reple.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div style=\"text-align: left\">\r\n    <div>\r\n      <el-input\r\n        placeholder=\"输入供应商编号 供应商名搜索\"\r\n        style=\"margin-right: -100px;width:50%\"\r\n        v-model=\"input\"\r\n        clearable\r\n      ></el-input>\r\n      <el-button type=\"primary\" style=\"float:right;margin-right:200px\" @click=\"getrepleList()\">搜索</el-button>\r\n      <!--添加员工按钮-->\r\n    </div>\r\n    <el-table :data=\"repleList\" style=\"width: 100%\">\r\n      <el-table-column type=\"expand\">\r\n        <template slot-scope=\"props\">\r\n          <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n            <el-form-item label=\"进货编号\">\r\n              <span>{{ props.row.id }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品名\">\r\n              <span>{{ props.row.goodsName }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"价格\">\r\n              <span>{{ props.row.price }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"进货数量\">\r\n              <span>{{ props.row.num }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"供应商\">\r\n              <span>{{ props.row.suppName }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"负责员工的id\">\r\n              <span>{{ props.row.employeeId }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"进货时间\">\r\n              <span>{{ props.row.putTime | dateformat }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"生产时间\">\r\n              <span>{{ props.row.produTime | dateformat }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"过期时间\">\r\n              <span>{{ props.row.overdueTime | dateformat }}</span>\r\n            </el-form-item>\r\n            <el-form-item label=\"备注\">\r\n              <span>{{ props.row.note}}</span>\r\n            </el-form-item>\r\n          </el-form>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"供应商 ID\" prop=\"id\"></el-table-column>\r\n      <el-table-column label=\"供应商名称\" prop=\"suppName\"></el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\r\n          <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <div style=\"dispaly:flex;justify-content:left\">\r\n      <!--分页条区域-->\r\n      <el-pagination\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        :page-size=\"pageInfo.pageSize\"\r\n        :total=\"pageInfo.total\"\r\n        :page=\"pageInfo.pages\"\r\n        @current-change=\"toPage()\"\r\n        ref=\"pagehelp\"\r\n        style=\"margin-top: 50px; margin-left:30px\"\r\n      ></el-pagination>\r\n\r\n      <el-button type=\"warning\" style=\"float:right;margin-top: -40px\" @click=\"openAdd()\">添加进货信息</el-button>\r\n    </div>\r\n\r\n    <!--修改模态框框区域-->\r\n    <el-dialog title=\"修改进货信息\" :visible.sync=\"editVisble\" width=\"50%\" center>\r\n      <el-form label-width=\"120px\" :model=\"reple\">\r\n        <el-form-item label=\"供应商名称\">\r\n          <el-input v-model=\"reple.goodsName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"进货价格（元）\">\r\n          <el-input v-model=\"reple.price\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"负责员工\">\r\n          <el-select v-model=\"reple.employeeId\" :placeholder=\"employeeName\">\r\n            <el-option\r\n              v-for=\"item in employeeList\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.id\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"购买的商品\">\r\n          <el-select v-model=\"reple.goodsId\" :placeholder=\"goodsName\">\r\n            <el-option v-for=\"item in goodsList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"供应商\">\r\n          <el-select v-model=\"reple.suppId\" :placeholder=\"reple.suppName\">\r\n            <el-option v-for=\"item in suppList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"进货数量\">\r\n          <el-input v-model=\"reple.num\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"备注信息\">\r\n          <el-input v-model=\"reple.note\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"cancel()\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"updatereple()\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <el-dialog title=\"添加进货信息\" :visible.sync=\"addVisble\" width=\"50%\" center>\r\n      <el-form label-width=\"120px\" :model=\"reple\">\r\n        <el-form-item label=\"供应商名称\">\r\n          <el-input v-model=\"reple.goodsName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"进货价格（元）\">\r\n          <el-input v-model=\"reple.price\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"负责员工\">\r\n          <el-select v-model=\"reple.employeeId\" :placeholder=\"employeeName\">\r\n            <el-option\r\n              v-for=\"item in employeeList\"\r\n              :key=\"item.id\"\r\n              :label=\"item.name\"\r\n              :value=\"item.id\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"购买的商品\">\r\n          <el-select v-model=\"reple.goodsId\" :placeholder=\"goodsName\">\r\n            <el-option v-for=\"item in goodsList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"供应商\">\r\n          <el-select v-model=\"reple.suppId\" :placeholder=\"reple.suppName\">\r\n            <el-option v-for=\"item in suppList\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"进货数量\">\r\n          <el-input v-model=\"reple.num\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"备注信息\">\r\n          <el-input v-model=\"reple.note\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"cancel()\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addreple()\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      addVisble: false,\r\n      editVisble: false,\r\n      repleList: [],\r\n      pageInfo: {},\r\n      page: 1,\r\n      reple: {\r\n        id: null,\r\n        goodsId: null,\r\n        price: 0,\r\n        num: 0,\r\n        produTime: new Date(),\r\n        overdueTime: new Date(),\r\n        suppId: null,\r\n        putTime: new Date(),\r\n        employeeId: null,\r\n        note: \"\"\r\n      },\r\n      employeeName: \"\",\r\n      goodsName: \"\",\r\n      employeeList: [],\r\n      goodsList: \"\",\r\n      input: \"\",\r\n      suppName: \"\",\r\n      suppList: []\r\n    };\r\n  },\r\n  methods: {\r\n    addreple() {\r\n      this.$http\r\n        .post(\"reple/addReple\", this.reple)\r\n        .then(result => {\r\n          if (result.data) {\r\n            this.$message.success(\"添加成功\");\r\n          } else {\r\n            this.$message.error(\"添加失败\");\r\n          }\r\n          this.addVisble = false;\r\n        })\r\n        .catch(error => {\r\n          if (error) {\r\n            this.$message.info(\"添加失败，请联系管理员\");\r\n          }\r\n        });\r\n    },\r\n    openAdd() {\r\n      this.getEmployeeList();\r\n      this.getGoodsList();\r\n      this.getSuppList();\r\n      this.addVisble = true;\r\n    },\r\n    updatereple() {\r\n      this.$http\r\n        .put(\"reple/updateReple\", this.reple)\r\n        .then(result => {\r\n          if (result.data) {\r\n            this.$message.success(\"更新成功\");\r\n          } else {\r\n            this.$message.error(\"更新失败\");\r\n          }\r\n          this.editVisble = false;\r\n        })\r\n        .catch(error => {\r\n          if (error.response) {\r\n            this.$message.info(\"更新失败，请检查输入的参数\");\r\n          }\r\n        });\r\n    },\r\n    cancel() {\r\n      //点击模态框的取消按钮，首先清除模态框里面的信息\r\n      //然后将模态框关闭\r\n      this.editVisble = false;\r\n    },\r\n    handleEdit(index, row) {\r\n      //点击编辑按钮，首先查询出供应商信息，然后进行修改\r\n\r\n      this.editVisble = true;\r\n\r\n      this.reple = row;\r\n      this.getEmployeeList();\r\n      this.getGoodsList();\r\n      this.getSuppList();\r\n    },\r\n    handleDelete(index, row) {\r\n      this.minSize = this.pageInfo.size;\r\n      this.$confirm(\"将删除此个供应商，是否继续？\", \"删除\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        this.$http\r\n          .get(\"reple/delReple/\" + row.id)\r\n          .then(result => {\r\n            if (result.data) {\r\n              window.alert(\"删除成功\")\r\n              this.$router.go(0);\r\n            } else {\r\n              this.$message.error(\"删除失败\");\r\n            }\r\n          })\r\n          .catch(error => {\r\n            if (error.response) {\r\n              this.$message.info(\"系统错误，请联系管理员\");\r\n            }\r\n          });\r\n      });\r\n    },\r\n    //获取员工数组\r\n    //获取商品数组\r\n    getGoodsList() {\r\n      this.$http.get(\"goods/getAllGoods\").then(result => {\r\n        this.goodsList = result.data;\r\n      });\r\n    },\r\n    //获取Supp数组\r\n    getSuppList() {\r\n      this.$http.get(\"supplier/getAllSupp\").then(result => {\r\n        this.suppList = result.data;\r\n      });\r\n    },\r\n    getEmployeeList() {\r\n      this.$http.get(\"employee/getAllEmployee\").then(result => {\r\n        this.employeeList = result.data;\r\n      });\r\n    },\r\n    toPage() {\r\n      this.page = this.$refs.pagehelp.internalCurrentPage;\r\n      this.getrepleList();\r\n    },\r\n    getrepleList() {\r\n      this.$http\r\n        .get(\"reple/search\", {\r\n          params: {\r\n            page: this.page || 1,\r\n            keyword: this.input\r\n          }\r\n        })\r\n        .then(result => {\r\n          this.repleList = result.data.list;\r\n          this.pageInfo = result.data;\r\n        })\r\n        .catch(error => {\r\n          this.$message.error(\"未查询到相关信息\");\r\n        });\r\n    }\r\n  },\r\n  created() {\r\n    this.getrepleList();\r\n  },\r\n  filters: {\r\n    dateformat(date1) {\r\n      var date = new Date(date1);\r\n      var year = date.getFullYear();\r\n      var month = date.getMonth() + 1;\r\n      var day = date.getDate();\r\n      var hour = date.getHours();\r\n      if (hour < 10) {\r\n        hour = \"0\" + hour;\r\n      }\r\n      var minte = date.getMinutes();\r\n      if (minte < 10) {\r\n        minte = \"0\" + minte;\r\n      }\r\n      var second = date.getSeconds();\r\n      if (second < 10) {\r\n        second = \"0\" + second;\r\n      }\r\n      return (\r\n        \"\" +\r\n        year +\r\n        \"-\" +\r\n        month +\r\n        \"-\" +\r\n        day +\r\n        \" \" +\r\n        hour +\r\n        \":\" +\r\n        minte +\r\n        \":\" +\r\n        second\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.demo-table-expand {\r\n  font-size: 0;\r\n}\r\n.demo-table-expand label {\r\n  width: 90px;\r\n  color: #99a9bf;\r\n}\r\n.demo-table-expand .el-form-item {\r\n  margin-right: 0;\r\n  margin-bottom: 0;\r\n  width: 50%;\r\n}\r\n</style>"]}]}